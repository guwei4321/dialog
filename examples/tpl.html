<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>js简易模板</title>
</head>

<body>
    <div id="result"></div>
    <script data-main="../dist/common" src="../dist/lib/require.js"></script>
    <script>
    require(['lib/jquery', 'extend/laytpl'], function(jquery, tpl) {
        var _tpl = '<h3>{{ d.title }}</h3>' +
            '<p class="intro">{{ d.intro }}</p>' +
            '<ul>' +
            '{{# for(var i = 0, len = d.list.length; i < len; i++){ }}' +
            '<li>' +
            '<span>{{ d.list[i].name }}</span>' +
            '<span>所在城市：{{ d.list[i].city }}</span>' +
            '</li>' +
            '{{#} }}' +
            '</ul>,'
        _data = {
            title: '前端圈',
            intro: '一群码js的骚年，幻想改变世界，却被世界改变。',
            list: [{
                name: '贤心',
                city: '杭州'
            }, {
                name: '谢亮',
                city: '北京'
            }, {
                name: '浅浅',
                city: '杭州'
            }, {
                name: 'Dem',
                city: '北京'
            }]
        },
        _data1 = {
            title: '前端圈1',
            intro: '一群码js的骚年，幻想改变世界，却被世界改变。',
            list: [{
                name: '贤心1',
                city: '杭州'
            }, {
                name: '谢亮2',
                city: '北京'
            }, {
                name: '浅浅3',
                city: '杭州'
            }, {
                name: 'Dem4',
                city: '北京'
            }]
        };
        var tpl1 = tpl(_tpl);
        var tpl2 = tpl(_tpl);
        console.log(tpl2)
        console.log(tpl1)
        tpl1.render(_data, function(result) {
            console.log(result);
        });
        tpl1.render(_data1, function(result) {
            console.log(result);
        });

        // $('#result').html(result);
    })
    </script>
</body>

</html>
